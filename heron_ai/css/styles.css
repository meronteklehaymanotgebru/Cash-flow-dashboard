:root{
  --bg: #fafafa;
  --card-bg: #ffffff;
  --muted: #6b7280;             /* text-muted like screenshot */
  --muted-light: #9ca3af;       /* axes & subtle text */
  --accent: #7c3aed;            /* purple accent */
  --accent-strong: #6b21a8;
  --card-shadow: 0 8px 20px rgba(16,24,40,0.06);
  --card-border: rgba(15,23,42,0.04);
  --small-radius: 10px;
  --kpigrid-gap: 20px;
  --small: 13px;
  --text: #111827;
  --toolbar-border: #e6e7eb;
  --toolbar-bg: rgba(0,0,0,0.02);
  --green: #059669;
}

* { box-sizing: border-box; }
html,body {
  height: 100%;
  margin: 0;
  font-family: "Helvetica Neue", "Segoe UI", Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* container */
.app-shell { padding: 20px 28px; max-width: 1360px; margin: 0 auto; }

/* Header */
.header-row { display:flex; justify-content:space-between; align-items:flex-end; margin-bottom: 12px; }
.page-title { font-size: 20px; font-weight: 700; color: #111827; letter-spacing: -0.2px; line-height: 1; }
.breadcrumb { color: var(--muted); font-size: 13px; }

/* Toolbar row */
.toolbar-wrapper { display:flex; justify-content:space-between; align-items:center; margin-bottom: 16px; }
.section-title { background: var(--toolbar-bg); padding: 10px 14px; border-radius: 8px; font-weight: 700; font-size: 14px; border: 1px solid rgba(0,0,0,0.02); }
.toolbar-right { display:flex; align-items:center; gap:8px; }
.toolbar { display:flex; gap:8px; flex-wrap:wrap; }
.btn { background: #fff; border: 1px solid var(--toolbar-border); padding: 7px 12px; border-radius: 14px; box-shadow: var(--card-shadow); font-size: 13px; cursor: pointer; color: var(--muted); display:inline-flex; align-items:center; gap:8px; }
.btn.wide { padding-left: 12px; padding-right: 16px; font-weight:600; }

/* KPI grid */
.kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--kpigrid-gap); margin-bottom: 22px; }
.kpi-card {
  background: var(--card-bg);
  padding: 18px 20px;
  border-radius: var(--small-radius);
  box-shadow: var(--card-shadow);
  border: 1px solid var(--card-border);
  min-height: 88px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  position: relative;
}
.kpi-card .card-top { display:flex; align-items:flex-start; gap:12px; }
.title { color: var(--muted); font-size: 13px; margin-bottom: 6px; font-weight:600; line-height:1; }
.value { font-weight:800; font-size:22px; color: #111827; line-height:1.05; }
.delta { color: var(--green); font-size: 13px; margin-top: 8px; }
.sub { color: var(--muted); font-size: 13px; margin-top: 8px; }
.small-muted { font-size: 13px; color: var(--muted); }
.ellipsis { margin-left: auto; color: var(--muted); font-size: 18px; line-height: 1; }

/* charts layout */
.charts-grid, .top-charts-grid, .lower-charts-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-bottom: 20px;
}
.chart-card {
  background: var(--card-bg);
  padding: 16px;
  border-radius: var(--small-radius);
  box-shadow: var(--card-shadow);
  border: 1px solid var(--card-border);
  min-height: 360px;
  display:flex;
  flex-direction:column;
}
.chart-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:4px; }
.chart-title { font-weight:700; color: var(--muted); font-size: 15px; line-height:1; }
.chart-content { flex:1; margin-top:8px; display:flex; align-items:stretch; }

/* lower grid specifics */
.lower-charts-grid { grid-template-columns: 1fr 1fr; grid-auto-rows: 360px; }

/* svg text styling for axis/labels */
.chart-svg { width: 100%; height: 100%; display:block; }
.chart-svg text { font-family: "Helvetica Neue", "Segoe UI", Roboto, Arial, sans-serif; font-size: 11px; fill: var(--muted-light); }

/* tooltip */
.tooltip {
  position: fixed;
  pointer-events: none;
  background: #fff;
  padding: 10px 12px;
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(16,24,40,0.12);
  font-size: 13px;
  color: var(--text);
  border: 1px solid rgba(0,0,0,0.06);
  z-index: 9999;
}
.tooltip .dot { display:inline-block; width:10px; height:10px; border-radius:50%; background:var(--accent-strong); margin-right:8px; vertical-align:middle; }


.kpi-card.placeholder, .chart-card.placeholder { visibility: hidden; }

/* responsive */
@media (max-width: 1100px) {
  .kpi-grid, .top-charts-grid, .lower-charts-grid { grid-template-columns: repeat(2, 1fr); }
  .charts-grid { grid-template-columns: 1fr; }
}
@media (max-width: 640px) {
  .kpi-grid { grid-template-columns: 1fr; }
  .toolbar { gap:6px; }
  .chart-card { min-height: 300px; }
}